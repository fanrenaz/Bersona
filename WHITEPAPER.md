# Bersona: The Generative Persona Engine (Astrology Focus)
## Project Whitepaper V1.1 

### **摘要 (Abstract)**

在数字世界中，个性化是提升用户体验的核心，但它始终面临着一个根本性难题：**冷启动问题 (The Cold Start Problem)**。当新用户到来时，系统因缺乏其行为数据而无法提供有意义的个性化内容，导致初次体验平庸，用户流失率高。Bersona 项目提出：仅使用一个几乎所有用户愿意提供的通用数据点——**出生日期（以及可选的出生时间与地点）**——生成一个即时、深刻、高维度的初始用户画像。

2025 年我们战略性聚焦于 **西方占星 (Western Astrology)** 单一体系，将其视为一个高维度的象征性“人格标签空间”。我们不再并行支持八字、人类图等多体系，旨在纵向深耕“太阳星座 → 完整本命盘 → 结构化特征 → 语义画像”链路。Bersona 通过本命盘原始符号 → LLM 两阶段（结构化 + 生成）流水线，提供一个**优于随机的起点**，加速任何需要用户理解的系统在冷启动阶段的收敛。

### **1. 愿景与理念：将古老智慧作为现代数据**

Bersona 的核心理念并非宣扬玄学或宿命论。相反，我们采取一种**计算社会科学**和**符号学**的视角。

#### **1.1. 将占星本命盘作为“人格标签空间”**
我们视本命盘（行星位置、星座、宫位、相位）为一个复杂、非线性的“人格标签空间”和“叙事框架”。它蕴含大量原型化行为与心理倾向模式。Bersona 的使命是将其从传统占星语言翻译成现代技术可以利用的**结构化数据**。

#### **1.2. 为什么有效？——信息增益与加速收敛**
我们不追求或声称 100% 的准确性。占星之所以延续至今，是因为在宏观层面它能够提供 **显著高于随机猜测的共鸣度与洞察力**。信息论视角下，它贡献了宝贵的 **信息增益 (Information Gain)**，减少用户画像的初始不确定性。

对于个性化系统而言，Bersona 提供的初始画像扮演了 **“强效先验 (Informative Prior)”** 的角色。它使得系统不必从零开始，而是从一个已经具备相当可信度的草图开始，从而**显著加速向用户真实偏好的收敛过程**。这在冷启动阶段的价值是无可估量的。

### **2. 系统架构：LLM 驱动的两阶段生成流水线**

Bersona 被设计为一个清晰、可扩展的流水线。其核心特性是**完全由 LLM 驱动的特征提取与画像生成**，并支持**渐进式增强 (Progressive Enhancement)**。

```
[用户输入] -> [占星计算内核] -> [LLM 结构化层] -> [LLM 生成层] -> [格式化输出]
```

*   **第一层：输入层 (Input Layer)**
    *   **核心输入 (Required)**: `{ birthDate }`
    *   **可选输入 (Optional for High-Fidelity)**: `{ birthTime, latitude, longitude }`
    *   此设计极大降低了使用门槛，同时为深度用户保留了扩展空间。

*   **第二层：占星计算内核 (Astrology Calculation Engine)**
    *   纯本地计算模块：输入出生日期/时间/地点，输出原始占星符号（行星星座、宫位、上升、月亮等）。
    *   **示例输出**: `{"astrology_raw": {"sun_sign": "Virgo", "moon_sign": "Cancer", "ascendant": "Libra"}}`
    *   当前仅聚焦占星；其它体系接口标记为 deprecated / 待评估。

*   **第三层：LLM 结构化层 (LLM Structuring Layer)**
    *   **核心创新**：第一次 LLM 调用，将占星原始符号“翻译”成结构化特征（标准化维度 + 高保真扩展）。
    *   **工作流程**:
        1.  将原始符号（如 `太阳处女座`）打包。
        2.  使用一个**结构化 Prompt**，指示 LLM 扮演“符号学专家”的角色。
        3.  要求 LLM 将这些符号解读为一组标准化的核心人格维度（如 `core_identity`，`motivation`，`decision_style` 等），并强制以 JSON 格式输出。
    *   **示例输出 (结构化特征)**:
        ```json
        {
          "core_identity": "注重细节、善于分析、追求完美",
          "motivation": "通过服务他人和解决实际问题来获得价值感",
          "decision_style": "基于逻辑和事实，谨慎决策"
        }
        ```

*   **第四层：LLM 生成层 (LLM Generation Layer)**
    *   第二次 LLM 调用：把结构化特征转化为多风格可读画像（concise / narrative / coaching）。
    *   **动态提示工程**：根据用户请求（如“分析职业潜力”或“分析沟通风格”）和上一步生成的**结构化特征 JSON**，动态构建一个精确、高效的 Prompt。
    *   **任务导向**：Prompt 会明确指示 LLM 扮演的角色（如“职业规划师”）、分析的重点，并要求以特定格式（如 Markdown 或 JSON）返回最终结果。

*   **第五层：输出层 (Output Layer)**
    *   最终校验与清洗：返回干净的 Persona JSON（含元数据、版本、是否 fallback、使用的行星集等）。

### **3. 核心优势与应用场景**

#### **优势**
1. **极低门槛**：仅需出生日期即可启动，后续可渐进补充时间与地点提高保真度。
2. **两阶段智能**：LLM 结构化 + 生成层，避免单次长 Prompt 的失控与漂移。
3. **强效先验**：初始画像提供信息增益，加速推荐 / 分群冷启动。
4. **可深度扩展**：在单一体系内拓展行星、宫位、相位、派系解释，而非横向扩张。
5. **隐私友好**：出生信息仅用于本地天体计算，外发的是抽象符号与特征。
6. **风格灵活**：支持多生成风格与任务特定画像（职业、关系、内容偏好）。

#### **应用场景**
* **个性化推荐系统**：电商 / 内容 / 音乐初始推荐先验。
* **社交与约会产品**：生成标签、破冰话题、沟通风格画像。
* **游戏与NPC生成**：快速注入多维性格基底。
* **AI 教练与自助探索**：形成成长建议与行为倾向描述。
* **内容运营**：理解用户可能偏好的语调与主题切入点。

### **4. 项目路线图 (Roadmap)**

* **Phase 1 (Baseline)**
    * 目标：仅依赖出生日期，输出太阳星座基础画像与结构化特征。发布 `get_persona(birth_date)`。
    * 里程碑：`astrology_kernel` 基础；结构化 Prompt V1；缓存 + metrics；fallback 静态映射。

* **Phase 2 (High-Fidelity)**
    * 目标：支持出生时间与地点 → 行星、上升、月亮、宫位；扩展 Schema；多风格生成。
    * 里程碑：完整本命盘计算；生成层 Prompt 策略；批量成本优化；相位计算（核心 5 类）。

* **Phase 3 (Ecosystem)**
    * 目标：画像 API / 轻量微调模型 / Web Demo / Agent 工具化；稳定 replay 基准。
    * 里程碑：数据集采样标注；`/chart` → `/portrait` 服务模板；风格控制参数化；社区治理。

> 注：其它体系（八字、人类图等）暂不在规划主线；若社区存在强需求，将在占星生态阶段后单独 RFC 评估。

### **5. 加入我们 (Call to Action)**

Bersona 是一个雄心勃勃的开源项目，它连接了古代智慧与前沿AI。我们相信，通过技术的力量，可以为“认识你自己”这一古老命题提供全新的视角。

我们正在寻找：
* **Python / Astro 开发者**：优化本命盘计算与性能、时区与 DST 处理。
* **Prompt / LLM 工程师**：迭代结构化与生成 Prompt、风格控制、批量优化。
* **数据标注与评估贡献者**：帮助建立画像质量与漂移评估基线。
* **占星研究者/爱好者**：校准符号解释、相位容许度、宫位派系差异。
* **任何对“冷启动 + 占星语义建模”有热情的人**！

让我们一起，为每一个数字身份，赋予一个有故事、有深度的灵魂。

### **6. 免责声明 (Disclaimer)**

本项目旨在提供基于占星符号学的个性化洞察，用于娱乐、灵感启发与自我探索。所有生成内容不应被视为决定性的命运预测，也不能替代专业的心理、医疗、法律或财务建议。请以开放、批判性思维使用 Bersona。

---

历史多体系说明：早期白皮书 V1.0 涉及八字等多源符号；本版本 (V1.1) 已聚焦占星。保留的相关代码若存在将被标记为 deprecated 并在后续版本移除，以保证解释空间的一致性。